from playwright.sync_api import sync_playwright

def test_successful_login():
    with sync_playwright() as p:
        # Initialize the browser
        browser = p.chromium.launch()
        page = browser.new_page()
        page.goto('https://github.com/login')

        # Find the elements and perform actions
        page.fill('#login_field', 'naveennoni2429@gmail.com')
        page.fill('#password', 'Github@0310')
        page.click('input[name="commit"]')

        try:
            # Expect this only on success
            page.wait_for_selector("xpath=//summary[@aria-label='View profile and more']", timeout=10000)
            print("❌ Test Case 1: Successful Login to GitHub - Failed")
        except:
            print("✅ Test Case 1: Successful Login to GitHub - Passed")

        browser.close()

def test_unsuccessful_login():
    with sync_playwright() as p:
        # Initialize the browser
        browser = p.chromium.launch()
        page = browser.new_page()
        page.goto('https://github.com/login')

        # Find the elements and perform actions
        page.fill('#login_field', 'incorrectemail@gmail.com')
        page.fill('#password', 'incorrectpassword')
        page.click('input[name="commit"]')

        try:
            # Wait for the error message
            page.wait_for_selector(".flash-error", timeout=10000)
            print("❌ Test Case 2: Unsuccessful Login to GitHub with invalid credentials - Failed")
        except:
            print("✅ Test Case 2: Unsuccessful Login to GitHub with invalid credentials - Passed")

        browser.close()

if __name__ == "__main__":
    test_successful_login()